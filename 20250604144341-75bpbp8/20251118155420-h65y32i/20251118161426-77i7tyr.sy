{"ID":"20251118161426-77i7tyr","Spec":"1","Type":"NodeDocument","Properties":{"id":"20251118161426-77i7tyr","title":"GPT分区表","type":"doc","updated":"20251118164758"},"Children":[{"ID":"20251118161426-a035ose","Type":"NodeParagraph","Properties":{"id":"20251118161426-a035ose","updated":"20251118161508"},"Children":[{"Type":"NodeText","Data":"GPT 分区表总体布局"}]},{"ID":"20251118161509-yv2itks","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118161509-yv2itks","updated":"20251118161512"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"LBA 0:      保护性 MBR (Protective MBR)\nLBA 1:      GPT 头部 (Primary GPT Header)\nLBA 2-33:   分区表项数组 (Partition Entry Array, 128个分区)\nLBA 34+:    分区数据开始\n...\nLBA -34~-2: 备份分区表项数组\nLBA -1:     备份 GPT 头部 (Backup GPT Header)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118161513-xp1siyu","Type":"NodeParagraph","Properties":{"id":"20251118161513-xp1siyu","updated":"20251118161516"},"Children":[{"Type":"NodeText","Data":"\t||"}]},{"ID":"20251118161516-k79qr5a","Type":"NodeParagraph","Properties":{"id":"20251118161516-k79qr5a","updated":"20251118161518"},"Children":[{"Type":"NodeText","Data":"\tv"}]},{"ID":"20251118161518-z8jy4pw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118161518-z8jy4pw","updated":"20251118164524"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"┌─────────────────────────────────────────────┐\n│ LBA 0: 保护性 MBR (512 字节)                 │  ← 兼容旧系统\n├─────────────────────────────────────────────┤\n│ LBA 1: GPT 头部 (512 字节)                   │  ← 主 GPT Header\n│   - 签名 \"EFI PART\"                          │\n│   - 版本、头部大小、CRC32                     │\n│   - 当前/备份 LBA 位置                        │\n│   - 分区表起始/结束 LBA                       │\n│   - 磁盘 GUID                                │\n│   - 分区表项起始 LBA                         │\n│   - 分区表项数量、大小                        │\n│   - 分区表项数组 CRC32                       │\n├─────────────────────────────────────────────┤\n│ LBA 2:  分区表项 1-4   (每个 128 字节)       │\n│ LBA 3:  分区表项 5-8                         │\n│ LBA 4:  分区表项 9-12                        │\n│ ...                                          │  ← 128 个分区槽位\n│ LBA 33: 分区表项 125-128                     │\n├─────────────────────────────────────────────┤\n│ LBA 34: 分区 1 开始                          │\n│ ...     (用户数据)                           │\n│ LBA N:  分区数据                             │\n├─────────────────────────────────────────────┤\n│ LBA -34: 备份分区表项 125-128                │\n│ ...                                          │  ← 备份分区表\n│ LBA -2:  备份分区表项 1-4                    │\n├─────────────────────────────────────────────┤\n│ LBA -1: 备份 GPT 头部 (512 字节)             │  ← 备份 Header\n└─────────────────────────────────────────────┘\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164537-bst1sc8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251118164537-bst1sc8","updated":"20251118164551"},"Children":[{"Type":"NodeText","Data":"1. 保护性 MBR (LBA 0)"}]},{"ID":"20251118164537-gfxwrnz","Type":"NodeParagraph","Properties":{"id":"20251118164537-gfxwrnz","updated":"20251118164537"},"Children":[{"Type":"NodeText","Data":"GPT 磁盘仍然保留 MBR，但只有一个分区表项，类型为 0xEE："}]},{"ID":"20251118164538-pd1424g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118164538-pd1424g","updated":"20251118164543"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"偏移量   内容\n0x000    引导代码 (可以为空)\n0x1BE    分区表项 1: 类型 0xEE，覆盖整个磁盘\n0x1CE    分区表项 2: 空\n0x1DE    分区表项 3: 空\n0x1EE    分区表项 4: 空\n0x1FE    签名 0x55AA\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164551-vo80okj","Type":"NodeParagraph","Properties":{"id":"20251118164551-vo80okj","updated":"20251118164551"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"作用"},{"Type":"NodeText","Data":"​：防止不支持 GPT 的工具误认为磁盘未分区而破坏数据。"}]},{"ID":"20251118164551-0xwp2tj","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251118164551-0xwp2tj","updated":"20251118164758"},"Children":[{"Type":"NodeText","Data":"2. GPT 头部结构 (LBA 1, 512字节)"}]},{"ID":"20251118164552-j06pomr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118164552-j06pomr","updated":"20251118164556"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"偏移   大小  字段名                   说明\n0x00   8     Signature               \"EFI PART\" (45 46 49 20 50 41 52 54)\n0x08   4     Revision                版本号 (通常 0x00010000 = 1.0)\n0x0C   4     Header Size             头部大小 (通常 92 字节 = 0x5C)\n0x10   4     Header CRC32            头部 CRC32 校验和\n0x14   4     Reserved                保留 (必须为 0)\n0x18   8     Current LBA             当前头部 LBA (主头部 = 1)\n0x20   8     Backup LBA              备份头部 LBA (通常是最后一个扇区)\n0x28   8     First Usable LBA        第一个可用扇区 (通常是 34)\n0x30   8     Last Usable LBA         最后一个可用扇区\n0x38   16    Disk GUID               磁盘唯一标识符 (UUID)\n0x48   8     Partition Entry LBA     分区表起始 LBA (通常是 2)\n0x50   4     Number of Entries       分区表项数量 (通常 128)\n0x54   4     Size of Entry           每个分区项大小 (通常 128 字节)\n0x58   4     Partition Array CRC32   分区表数组 CRC32\n0x5C   420   Reserved                保留 (填充到 512 字节)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164556-d5y7m64","Type":"NodeParagraph","Properties":{"id":"20251118164556-d5y7m64","updated":"20251118164614"},"Children":[{"Type":"NodeText","Data":"字段详解"}]},{"ID":"20251118164614-8ntujv0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118164614-8ntujv0","updated":"20251118164640"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"签名 \"EFI PART\": \n  十六进制: 45 46 49 20 50 41 52 54\n  必须精确匹配\n\n版本 (Revision):\n  0x00010000 = GPT 1.0\n  小端序: 00 00 01 00\n\n头部大小 (Header Size):\n  通常 92 (0x5C) 字节\n  小端序: 5C 00 00 00\n\nCRC32 校验:\n  计算时将 CRC32 字段本身置零\n  覆盖整个头部（92字节）\n\n磁盘 GUID:\n  16 字节 UUID\n  示例: 12345678-1234-1234-1234-123456789012\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164657-e8gdp68","Type":"NodeParagraph","Properties":{"id":"20251118164657-e8gdp68","updated":"20251118164712"},"Children":[{"Type":"NodeText","Data":"分区表项结构 (每个 128 字节)"}]},{"ID":"20251118164713-0t6ilji","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118164713-0t6ilji","updated":"20251118164718"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"偏移   大小  字段名                   说明\n0x00   16    Partition Type GUID     分区类型 GUID\n0x10   16    Unique Partition GUID   分区唯一 GUID\n0x20   8     Starting LBA            起始 LBA\n0x28   8     Ending LBA              结束 LBA (包含此扇区)\n0x30   8     Attribute Flags         属性标志\n0x38   72    Partition Name          分区名称 (UTF-16LE, 36 字符)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164737-svq5q7l","Type":"NodeParagraph","Properties":{"id":"20251118164737-svq5q7l","updated":"20251118164738"},"Children":[{"Type":"NodeText","Data":"分区类型 GUID (常用)"}]},{"ID":"20251118164738-879659h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118164738-879659h","updated":"20251118164741"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"Linux filesystem:\n  0FC63DAF-8483-4772-8E79-3D69D8477DE4\n\nEFI System Partition (ESP):\n  C12A7328-F81F-11D2-BA4B-00A0C93EC93B\n\nMicrosoft Basic Data:\n  EBD0A0A2-B9E5-4433-87C0-68B6B72699C7\n\nLinux swap:\n  0657FD6D-A4AB-43C4-84E5-0933C84B4F4F\n\nLinux /home:\n  933AC7E1-2EB4-4F13-B844-0E14E2AEF915\n\nLinux LVM:\n  E6D6D379-F507-44C2-A23C-238F2A3DF928\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164743-m7gq3kw","Type":"NodeParagraph","Properties":{"id":"20251118164743-m7gq3kw","updated":"20251118164748"},"Children":[{"Type":"NodeText","Data":"属性标志"}]},{"ID":"20251118164748-ctva4m7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251118164748-ctva4m7","updated":"20251118164757"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"Bit 0: 平台必需的分区 (Platform Required)\nBit 1: EFI 固件应忽略此分区\nBit 2: 传统 BIOS 可启动标志\nBit 60: 只读\nBit 62: 隐藏\nBit 63: 不自动挂载\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251118164758-9bi1nox","Type":"NodeParagraph","Properties":{"id":"20251118164758-9bi1nox","updated":"20251118164758"}}]}