{"ID":"20251002011605-0krf8s4","Spec":"1","Type":"NodeDocument","Properties":{"id":"20251002011605-0krf8s4","title":"全模式匹配列表","type":"doc","updated":"20251003110617"},"Children":[{"ID":"20251002011605-t2ze5cm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251002011605-t2ze5cm","updated":"20251002011731"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let x = 1;\nmatch x {\n    1 =\u003e println!(\"one\"),\n    2 =\u003e println!(\"two\"),\n    3 =\u003e println!(\"three\"),\n    _ =\u003e println!(\"anything\"),\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251002011732-t2vlwh4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251002011732-t2vlwh4","updated":"20251002011748"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let x = Some(5);\n    let y = 10;\n    match x {\n        Some(50) =\u003e println!(\"Got 50\"),\n        Some(y) =\u003e println!(\"Matched, y = {:?}\", y),  //y=5\n        _ =\u003e println!(\"Default case, x = {:?}\", x),\n    }\n    println!(\"at the end: x = {:?}, y = {:?}\", x, y);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251002011742-4zmidt2","Type":"NodeParagraph","Properties":{"id":"20251002011742-4zmidt2","style":"font-size: 22px;","updated":"20251002011808"},"Children":[{"Type":"NodeText","Data":"单分支多模式"}]},{"ID":"20251002011809-5tqfi7x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251002011809-5tqfi7x","updated":"20251002011820"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let x = 1;\nmatch x {\n    1 | 2 =\u003e println!(\"one or two\"),\n    3 =\u003e println!(\"three\"),\n    _ =\u003e println!(\"anything\"),\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251002011821-0qwd2hk","Type":"NodeParagraph","Properties":{"id":"20251002011821-0qwd2hk","style":"font-size: 22px;","updated":"20251002011832"},"Children":[{"Type":"NodeText","Data":"序列匹配"}]},{"ID":"20251002011832-mwwju2u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251002011832-mwwju2u","updated":"20251002011836"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let x = 5;\n\nmatch x {\n    1..=5 =\u003e println!(\"one through five\"),\n    _ =\u003e println!(\"something else\"),\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251002011837-lt12k17","Type":"NodeParagraph","Properties":{"id":"20251002011837-lt12k17","style":"font-size: 22px;","updated":"20251002012503"},"Children":[{"Type":"NodeText","Data":"结构体结构："}]},{"ID":"20251002012504-20ma1hh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251002012504-20ma1hh","updated":"20251002012514"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"struct Point {\n    x: i32,\n    y: i32,\n}\nfn main() {\n    let p = Point { x: 0, y: 7 };\n\n    let Point { x: a, y: b } = p;\n    assert_eq!(0, a);\n    assert_eq!(7, b);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251002012515-t46z4er","Type":"NodeParagraph","Properties":{"id":"20251002012515-t46z4er","style":"font-size: 21px;","updated":"20251003003457"},"Children":[{"Type":"NodeText","Data":"枚举结构：使用了match"}]},{"ID":"20251003003334-o05q0j4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003003334-o05q0j4","updated":"20251003003343"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"enum Message {\n    Quit,\n    Move { x: i32, y: i32 },\n    Write(String),\n    ChangeColor(i32, i32, i32),\n}\n\nfn main() {\n    let msg = Message::ChangeColor(0, 160, 255);\n\n    match msg {\n        Message::Quit =\u003e {\n            println!(\"The Quit variant has no data to destructure.\")\n        }\n        Message::Move { x, y } =\u003e {\n            println!(\n                \"Move in the x direction {} and in the y direction {}\",\n                x,\n                y\n            );\n        }\n        Message::Write(text) =\u003e println!(\"Text message: {}\", text),\n        Message::ChangeColor(r, g, b) =\u003e {\n            println!(\n                \"Change the color to red {}, green {}, and blue {}\",\n                r,\n                g,\n                b\n            )\n        }\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003003442-mmmpxjw","Type":"NodeParagraph","Properties":{"id":"20251003003442-mmmpxjw","updated":"20251003003542"},"Children":[{"Type":"NodeText","Data":"解构枚举+结构体嵌套："}]},{"ID":"20251003003542-48qlkhn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003003542-48qlkhn","updated":"20251003003551"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"enum Color {\n   Rgb(i32, i32, i32),\n   Hsv(i32, i32, i32),\n}\n\nenum Message {\n    Quit,\n    Move { x: i32, y: i32 },\n    Write(String),\n    ChangeColor(Color),\n}\n\nfn main() {\n    let msg = Message::ChangeColor(Color::Hsv(0, 160, 255));\n\n    match msg {\n        Message::ChangeColor(Color::Rgb(r, g, b)) =\u003e {\n            println!(\n                \"Change the color to red {}, green {}, and blue {}\",\n                r,\n                g,\n                b\n            )\n        }\n        Message::ChangeColor(Color::Hsv(h, s, v)) =\u003e {\n            println!(\n                \"Change the color to hue {}, saturation {}, and value {}\",\n                h,\n                s,\n                v\n            )\n        }\n        _ =\u003e ()\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003003703-lam1z99","Type":"NodeParagraph","Properties":{"id":"20251003003703-lam1z99","style":"font-size: 25px;","updated":"20251003003838"},"Children":[{"Type":"NodeText","Data":"元组结构体解构："}]},{"ID":"20251003003710-oqiopu6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003003710-oqiopu6","updated":"20251003003717"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"struct Point {\n     x: i32,\n     y: i32,\n }\n\nlet ((feet, inches), Point {x, y}) = ((3, 10), Point { x: 3, y: -10 });\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003003716-v2j3sfa","Type":"NodeParagraph","Properties":{"id":"20251003003716-v2j3sfa","updated":"20251003004155"},"Children":[{"Type":"NodeText","Data":"数组结构："}]},{"ID":"20251003004157-t2rax1m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003004157-t2rax1m","updated":"20251003005504"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let arr: [u16; 2] = [114, 514];   //定长数组\nlet arr: \u0026[u16; 2] = \u0026[114, 514];  //定长数组引用\nlet [x, y] = arr;\n\nassert_eq!(x, 114);\nassert_eq!(y, 514);\n\nlet arr: \u0026[u16] = \u0026[114, 514];  //不定长数组，因为数组切片是指针，无长度\nlet arr: \u0026[u16] = \u0026[];\nlet [x, ..] = arr else { panic!(\"数组为空\")};  //要判断数组为空的情况 使用let else语句\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003005537-9tpfplw","Type":"NodeParagraph","Properties":{"id":"20251003005537-9tpfplw","updated":"20251003005540"},"Children":[{"Type":"NodeText","Data":"忽略模式值："}]},{"ID":"20251003005541-7y5cqv6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003005541-7y5cqv6","updated":"20251003005816"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"fn foo(_: i32, y: i32){}  //只处理y值\n\n//模式匹配不需要的值， 这里只确保是啥这个Some就行\nlet mut setting_value = Some(5);\nlet new_setting_value = Some(10);\n\nmatch (setting_value, new_setting_value) {\n    (Some(_), Some(_)) =\u003e {\n        println!(\"Can't overwrite an existing customized value\");\n    }\n    _ =\u003e {\n        setting_value = new_setting_value;\n    }\n}\n\nprintln!(\"setting is {:?}\", setting_value);\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003005706-1xbrvmf","Type":"NodeParagraph","Properties":{"id":"20251003005706-1xbrvmf","updated":"20251003010020"},"Children":[{"Type":"NodeText","Data":"下划线忽略未使用值："}]},{"ID":"20251003010021-2peprep","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003010021-2peprep","updated":"20251003010147"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let _x = 5;  //会绑定\nlet _ = 5; //不会绑定\n\nlet s = Some(String::from(\"Hello!\"));  \nif let Some(_s) = s {   //发生了所有权转移\n    println!(\"found a string\");\n}\nprintln!(\"{:?}\", s);\n\nlet s = Some(String::from(\"Hello!\"));  //不会报错，_并不会绑定\nif let Some(_) = s {\n    println!(\"found a string\");\n}\nprintln!(\"{:?}\", s);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003010441-ad4asdd","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20251003010441-ad4asdd","updated":"20251003010513"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://course.rs/basic/match-pattern/all-patterns.html#%E7%94%A8--%E5%BF%BD%E7%95%A5%E5%89%A9%E4%BD%99%E5%80%BC","TextMarkTextContent":"用 "},{"Type":"NodeTextMark","TextMarkType":"a code","TextMarkAHref":"https://course.rs/basic/match-pattern/all-patterns.html#%E7%94%A8--%E5%BF%BD%E7%95%A5%E5%89%A9%E4%BD%99%E5%80%BC","TextMarkTextContent":".."},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://course.rs/basic/match-pattern/all-patterns.html#%E7%94%A8--%E5%BF%BD%E7%95%A5%E5%89%A9%E4%BD%99%E5%80%BC","TextMarkTextContent":" 忽略剩余值"}]},{"ID":"20251003010442-wrqkorr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003010442-wrqkorr","updated":"20251003010512"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let arr: \u0026[u16] = \u0026[114, 514, 32, 55, 20, 28];\nlet [x, .., y] = arr\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003010551-xavy42v","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20251003010551-xavy42v","updated":"20251003110617"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://course.rs/basic/match-pattern/all-patterns.html#%E5%8C%B9%E9%85%8D%E5%AE%88%E5%8D%AB%E6%8F%90%E4%BE%9B%E7%9A%84%E9%A2%9D%E5%A4%96%E6%9D%A1%E4%BB%B6","TextMarkTextContent":"匹配守卫"}]},{"ID":"20251003010607-1gs7r7u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003010607-1gs7r7u","updated":"20251003010853"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"let num = Some(4); \n\nmatch num {\n    Some(x) if x \u003c 5 =\u003e println!(\"less than five: {}\", x),   //匹配完后，再次判断x大小\n    Some(x) =\u003e println!(\"{}\", x),\n    None =\u003e (),\n}\nSome(x) if x == 0 || x == 100 =\u003e println!(\"zero or hundred\"),  //还可以使用逻辑运算\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251003010552-p5q0bwi","Type":"NodeParagraph","Properties":{"id":"20251003010552-p5q0bwi","style":"font-size: 25px;","updated":"20251003110024"},"Children":[{"Type":"NodeText","Data":"绑定："}]},{"ID":"20251003110031-n3ti48j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251003110031-n3ti48j","updated":"20251003110617"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"match msg {\n    Message::Hello { id: id_variable @ 3..=7 } =\u003e {  //绑定，匹配后提取\n        println!(\"Found an id in range: {}\", id_variable)\n    },\nlet p @ Point {x: px, y: py } = Point {x: 10, y: 23};  //直接绑定到Point\n    println!(\"x: {}, y: {}\", px, py);\n    println!(\"{:?}\", p);\n\nmatch 1 {\n        num @ （ 1 | 2 ） =\u003e {    //绑定多值\n            println!(\"{}\", num);\n        }\n        _ =\u003e {}\n    }\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}