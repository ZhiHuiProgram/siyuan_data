{"ID":"20251010170044-i3fs1d2","Spec":"1","Type":"NodeDocument","Properties":{"id":"20251010170044-i3fs1d2","title":"特征Trait","type":"doc","updated":"20251010182126"},"Children":[{"ID":"20251010170044-rsd1y15","Type":"NodeParagraph","Properties":{"id":"20251010170044-rsd1y15","updated":"20251010170112"},"Children":[{"Type":"NodeText","Data":"抽象一个接口"}]},{"ID":"20251010170403-z72q4lf","Type":"NodeParagraph","Properties":{"id":"20251010170403-z72q4lf","updated":"20251010170403"},"Children":[{"Type":"NodeText","Data":"特征定义了"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"一组可以被共享的行为，只要实现了特征，你就能使用这组行为"},{"Type":"NodeText","Data":"。"}]},{"ID":"20251010170404-ugfluqc","Type":"NodeParagraph","Properties":{"id":"20251010170404-ugfluqc","updated":"20251010170414"},"Children":[{"Type":"NodeText","Data":"定义"}]},{"ID":"20251010170415-lp55jgi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251010170415-lp55jgi","updated":"20251010170420"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"pub trait Summary {\n    fn summarize(\u0026self) -\u003e String;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251010170421-hap2xez","Type":"NodeParagraph","Properties":{"id":"20251010170421-hap2xez","updated":"20251010175614"},"Children":[{"Type":"NodeText","Data":"孤儿规则：非常重要的原则："},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"如果你想要为类型"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"A"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"实现特征"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"，那么"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"A"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"或者"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"至少有一个是在当前作用域中定义的"}]},{"ID":"20251010175743-5uwtk2b","Type":"NodeParagraph","Properties":{"id":"20251010175743-5uwtk2b","updated":"20251010175822"},"Children":[{"Type":"NodeText","Data":"方法接口：特征实现了功能，另一个接口实现输入"}]},{"ID":"20251010175747-xli0e9f","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251010175747-xli0e9f","updated":"20251010180027"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"pub trait Summary {\n    fn summarize_author(\u0026self) -\u003e String;\n\n    fn summarize(\u0026self) -\u003e String {\n        format!(\"(Read more from {}...)\", self.summarize_author())\n    }\n}\nimpl Summary for Weibo {\n    fn summarize_author(\u0026self) -\u003e String {\n        format!(\"@{}\", self.username)\n    }\n}\nprintln!(\"1 new weibo: {}\", weibo.summarize());\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251010180025-avo1ssw","Type":"NodeParagraph","Properties":{"id":"20251010180025-avo1ssw","updated":"20251010180048"},"Children":[{"Type":"NodeText","Data":"作为参数传递：任何实现了该特征方法的类型都可以传进来"}]},{"ID":"20251010180032-2yrwray","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251010180032-2yrwray","updated":"20251010182126"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"pub fn notify(item: \u0026impl Summary) {\n    println!(\"Breaking news! {}\", item.summarize());\n}\n甚至多特征\nfn notify(item: \u0026(impl Summary + Display))\n\n语法糖：\npub fn notify\u003cT: Summary\u003e(item: \u0026T)；用了泛型加特征约束，但是直接传用有特征的类型也一样\n\n用where实现：\nfn some_function\u003cT, U\u003e(t: \u0026T, u: \u0026U) -\u003e i32\n    where T: Display + Clone,\n          U: Clone + Debug\n{}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251010180049-bclx93p","Type":"NodeParagraph","Properties":{"id":"20251010180049-bclx93p","updated":"20251010180049"}}]}