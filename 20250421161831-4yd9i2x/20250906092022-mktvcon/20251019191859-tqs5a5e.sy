{"ID":"20251019191859-tqs5a5e","Spec":"1","Type":"NodeDocument","Properties":{"id":"20251019191859-tqs5a5e","title":"Rust高级进阶","type":"doc","updated":"20251025095014"},"Children":[{"ID":"20251022101502-p5m6c2q","Type":"NodeParagraph","Properties":{"id":"20251022101502-p5m6c2q","updated":"20251025094538"},"Children":[{"Type":"NodeText","Data":"内联函数Rust 中的 inline"}]},{"ID":"20251025094613-wrghw06","Type":"NodeParagraph","Properties":{"id":"20251025094613-wrghw06","updated":"20251025094639"},"Children":[{"Type":"NodeText","Data":"告诉编译器\"把这个函数的代码直接插入到调用处，而不是跳转调用，直接展开代码，增加了运行效率，但是代码体积也增加了"}]},{"ID":"20251025095002-bwuz5oq","Type":"NodeParagraph","Properties":{"id":"20251025095002-bwuz5oq","updated":"20251025095014"},"Children":[{"Type":"NodeText","Data":"不会自动内敛跨crate"}]},{"ID":"20251025094539-3ygpq2d","Type":"NodeParagraph","Properties":{"id":"20251025094539-3ygpq2d","updated":"20251025094545"},"Children":[{"Type":"NodeText","Data":"// 1️⃣ #[inline] - 建议编译器内联\n#[inline]"}]},{"ID":"20251025094710-shpw1rt","Type":"NodeParagraph","Properties":{"id":"20251025094710-shpw1rt","updated":"20251025094710"},"Children":[{"Type":"NodeText","Data":"fn small_function(x: i32) -\u003e i32 {\n    x + 1\n}"}]},{"ID":"20251025094549-ppgh8sn","Type":"NodeParagraph","Properties":{"id":"20251025094549-ppgh8sn","updated":"20251025094549"},"Children":[{"Type":"NodeText","Data":"// 2️⃣ #[inline(always)] - 强制内联（几乎总是）\n#[inline(always)]"}]},{"ID":"20251025094554-di4ctxb","Type":"NodeParagraph","Properties":{"id":"20251025094554-di4ctxb","updated":"20251025094555"},"Children":[{"Type":"NodeText","Data":"// 3️⃣ #[inline(never)] - 禁止内联\n#[inline(never)]"}]},{"ID":"20251025094600-79a447n","Type":"NodeParagraph","Properties":{"id":"20251025094600-79a447n","updated":"20251025094601"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"// 4️⃣ 不加 inline - 让编译器自己决定"},{"Type":"NodeText","Data":"​"}]},{"ID":"20251019191859-svonq9h","Type":"NodeParagraph","Properties":{"id":"20251019191859-svonq9h","updated":"20251019191859"}},{"ID":"20251025094651-9vmxxvp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251025094651-9vmxxvp","updated":"20251025094957"},"Children":[{"Type":"NodeText","Data":"🔍 C 语言中的 inline"}]},{"ID":"20251025094656-4o4pji9","Type":"NodeParagraph","Properties":{"id":"20251025094656-4o4pji9","updated":"20251025094657"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inline int add(int a, int b)"},{"Type":"NodeText","Data":"​"}]},{"ID":"20251025094705-7qe50i6","Type":"NodeList","ListData":{},"Properties":{"id":"20251025094705-7qe50i6","updated":"20251025094705"},"Children":[{"ID":"20251025094705-u2k7ny0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251025094705-u2k7ny0","updated":"20251025094705"},"Children":[{"ID":"20251025094705-ij5v1yf","Type":"NodeParagraph","Properties":{"id":"20251025094705-ij5v1yf","updated":"20251025094705"},"Children":[{"Type":"NodeText","Data":"只是建议，编译器可能不理会"}]}]},{"ID":"20251025094705-89ot6m3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251025094705-89ot6m3","updated":"20251025094705"},"Children":[{"ID":"20251025094705-0qqxy5h","Type":"NodeParagraph","Properties":{"id":"20251025094705-0qqxy5h","updated":"20251025094705"},"Children":[{"Type":"NodeText","Data":"不同编译器行为不同"}]}]},{"ID":"20251025094705-wpcj54f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251025094705-wpcj54f","updated":"20251025094705"},"Children":[{"ID":"20251025094705-mv7uzzg","Type":"NodeParagraph","Properties":{"id":"20251025094705-mv7uzzg","updated":"20251025094705"},"Children":[{"Type":"NodeText","Data":"需要在头文件中定义"}]}]}]},{"ID":"20251025094957-klfn54n","Type":"NodeParagraph","Properties":{"id":"20251025094957-klfn54n","updated":"20251025094957"}}]}