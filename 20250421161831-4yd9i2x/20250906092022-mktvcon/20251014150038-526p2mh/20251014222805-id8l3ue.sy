{"ID":"20251014222805-id8l3ue","Spec":"1","Type":"NodeDocument","Properties":{"id":"20251014222805-id8l3ue","title":"可恢复的错误 Result和？","type":"doc","updated":"20251014230016"},"Children":[{"ID":"20251014222805-ud9jwlw","Type":"NodeParagraph","Properties":{"id":"20251014222805-ud9jwlw","updated":"20251014224507"},"Children":[{"Type":"NodeText","Data":"定义："}]},{"ID":"20251014224507-ymx3b25","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251014224507-ymx3b25","updated":"20251014224508"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"enum Result\u003cT, E\u003e {\n    Ok(T),\n    Err(E),\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251014224509-av3xsr8","Type":"NodeParagraph","Properties":{"id":"20251014224509-av3xsr8","updated":"20251014225109"},"Children":[{"Type":"NodeText","Data":"一个文件创建的例子："}]},{"ID":"20251014225109-y71q35q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251014225109-y71q35q","updated":"20251014225111"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"use std::fs::File;\nuse std::io::ErrorKind;\n\nfn main() {\n    let f = File::open(\"hello.txt\");\n\n    let f = match f {\n        Ok(file) =\u003e file,\n        Err(error) =\u003e match error.kind() {\n            ErrorKind::NotFound =\u003e match File::create(\"hello.txt\") {\n                Ok(fc) =\u003e fc,\n                Err(e) =\u003e panic!(\"Problem creating the file: {:?}\", e),\n            },\n            other_error =\u003e panic!(\"Problem opening the file: {:?}\", other_error),\n        },\n    };\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251014225400-akewrji","Type":"NodeParagraph","Properties":{"id":"20251014225400-akewrji","updated":"20251014225706"},"Children":[{"Type":"NodeText","Data":"这里有一个写法：慎用，测试用，生产不建议"}]},{"ID":"20251014225407-6zwbetk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251014225407-6zwbetk","updated":"20251014225654"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"\nlet f = File::open(\"hello.txt\").unwrap();  //简单粗暴\nlet f = File::open(\"hello.txt\").expect(\"Failed to open hello.txt\"); //效果一样，但是多了一行打印\n    |\n\tV\nlet f = match File::open(\"hello.txt\") {\n    Ok(file) =\u003e file,\n    Err(error) =\u003e panic!(\"打开文件失败: {:?}\", error),\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251014225708-pvwzp4k","Type":"NodeParagraph","Properties":{"id":"20251014225708-pvwzp4k","updated":"20251014230016"},"Children":[{"Type":"NodeText","Data":"？：有意思"}]},{"ID":"20251014225938-p7zonnl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251014225938-p7zonnl","updated":"20251014225942"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aWZjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"use std::fs::File;\nuse std::io;\nuse std::io::Read;\n\nfn read_username_from_file() -\u003e Result\u003cString, io::Error\u003e {\n    let mut f = File::open(\"hello.txt\")?;\n    let mut s = String::new();\n    f.read_to_string(\u0026mut s)?;\n    Ok(s)\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}